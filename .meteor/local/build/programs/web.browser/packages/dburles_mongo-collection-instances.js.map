{"version":3,"sources":["meteor://ðŸ’»app/packages/dburles_mongo-collection-instances/mongo-instances.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mH","file":"/packages/dburles_mongo-collection-instances.js","sourcesContent":["var instances = [];\n\nCollectionExtensions.addExtension(function (name, options) {\n  instances.push({\n    name: name,\n    instance: this,\n    options: options\n  });\n});\n\nMongo.Collection.get = function(name, options) {\n  options = options || {};\n  var collection = _.find(instances, function(instance) {\n    if (options.connection)\n      return instance.name === name &&\n        instance.options && instance.options.connection._lastSessionId === options.connection._lastSessionId;\n    return instance.name === name;\n  });\n\n  return collection && collection.instance;\n};\n\nMongo.Collection.getAll = function() {\n  return instances;\n};\n\n// Meteor.Collection will lack ownProperties that are added back to Mongo.Collection\nMeteor.Collection = Mongo.Collection;\n"]}