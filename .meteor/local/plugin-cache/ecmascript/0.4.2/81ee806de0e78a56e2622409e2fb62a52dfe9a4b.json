{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/server/methods.js","filenameRelative":"/server/methods.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/server/methods.js.map","sourceFileName":"/server/methods.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"methods"},"ignored":false,"code":"Meteor.methods({\n\taddResolution: function () {\n\t\tfunction addResolution(resolution) {\n\t\t\tif (!Meteor.userId()) {\n\t\t\t\tthrow new Meteor.Error('not-authorised');\n\t\t\t}\n\t\t\tResolutions.insert({\n\t\t\t\ttext: resolution,\n\t\t\t\tcomplete: false,\n\t\t\t\tcreatedAt: new Date(),\n\t\t\t\tuser: Meteor.userId()\n\t\t\t});\n\t\t}\n\n\t\treturn addResolution;\n\t}(),\n\ttoggleResolution: function () {\n\t\tfunction toggleResolution(resolution) {\n\t\t\tif (Meteor.userId() !== resolution.user) {\n\t\t\t\tthrow new Meteor.Error('not-authorised');\n\t\t\t}\n\t\t\tResolutions.update(resolution._id, {\n\t\t\t\t$set: { complete: !resolution.complete }\n\t\t\t});\n\t\t}\n\n\t\treturn toggleResolution;\n\t}(),\n\tdeleteResolution: function () {\n\t\tfunction deleteResolution(resolution) {\n\t\t\tif (Meteor.userId() !== resolution.user) {\n\t\t\t\tthrow new Meteor.Error('not-authorised');\n\t\t\t}\n\t\t\tResolutions.remove(resolution._id);\n\t\t}\n\n\t\treturn deleteResolution;\n\t}()\n});","ast":null,"map":{"version":3,"sources":["/server/methods.js"],"names":[],"mappings":"AAAA,OAAO,OAAP,CAAe;AACd;yBAAc,YAAY;AACzB,OAAG,CAAC,OAAO,MAAP,EAAD,EAAkB;AACpB,UAAM,IAAI,OAAO,KAAP,CAAa,gBAAjB,CAAN,CADoB;IAArB;AAGA,eAAY,MAAZ,CAAmB;AAClB,UAAM,UAAN;AACA,cAAU,KAAV;AACA,eAAW,IAAI,IAAJ,EAAX;AACA,UAAM,OAAO,MAAP,EAAN;IAJD,EAJyB;;;;IADZ;AAYd;4BAAiB,YAAY;AAC5B,OAAG,OAAO,MAAP,OAAoB,WAAW,IAAX,EAAiB;AACvC,UAAM,IAAI,OAAO,KAAP,CAAa,gBAAjB,CAAN,CADuC;IAAxC;AAGA,eAAY,MAAZ,CAAmB,WAAW,GAAX,EAAgB;AAClC,UAAM,EAAC,UAAU,CAAC,WAAW,QAAX,EAAlB;IADD,EAJ4B;;;;IAZf;AAoBd;4BAAiB,YAAY;AAC5B,OAAG,OAAO,MAAP,OAAoB,WAAW,IAAX,EAAiB;AACvC,UAAM,IAAI,OAAO,KAAP,CAAa,gBAAjB,CAAN,CADuC;IAAxC;AAGA,eAAY,MAAZ,CAAmB,WAAW,GAAX,CAAnB,CAJ4B;;;;IApBf;CAAf","file":"/server/methods.js.map","sourcesContent":["Meteor.methods({\n\taddResolution(resolution) {\n\t\tif(!Meteor.userId()) {\n\t\t\tthrow new Meteor.Error('not-authorised');\n\t\t}\n\t\tResolutions.insert({\n\t\t\ttext: resolution,\n\t\t\tcomplete: false,\n\t\t\tcreatedAt: new Date(),\n\t\t\tuser: Meteor.userId()\n\t\t});\t\t\n\t},\n\ttoggleResolution(resolution) {\n\t\tif(Meteor.userId() !== resolution.user) {\n\t\t\tthrow new Meteor.Error('not-authorised');\n\t\t}\t\t\n\t\tResolutions.update(resolution._id, {\n\t\t\t$set: {complete: !resolution.complete}\n\t\t});\n\t},\n\tdeleteResolution(resolution) {\n\t\tif(Meteor.userId() !== resolution.user) {\n\t\t\tthrow new Meteor.Error('not-authorised');\n\t\t}\n\t\tResolutions.remove(resolution._id);\n\t}\n});"]},"hash":"81ee806de0e78a56e2622409e2fb62a52dfe9a4b"}
